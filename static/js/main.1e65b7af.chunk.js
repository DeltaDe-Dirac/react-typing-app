(this["webpackJsonpreact-typing-app"]=this["webpackJsonpreact-typing-app"]||[]).push([[0],{109:function(e,t,n){},111:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(21),a=n.n(r),s=(n(109),n(10)),i=(n(110),n(111),n(20)),o=n(16),l=n(47),d=n(103),j=n(104),u=(n(114),n(159)),b=n(96),h=n(160),O=n(95),x=(n(115),n(162)),f=(n(116),n(163)),p=n(158),m=n(74),g=n(1),v=Object(c.createContext)(null),k=function(e){var t=e.children;return m.a.apps.length||m.a.initializeApp({apiKey:"AIzaSyBfDUJ66-rOu4qCodkmmLIFncF_noYcPSM",authDomain:"fb-proj-2021.firebaseapp.com",projectId:"fb-proj-2021",storageBucket:"fb-proj-2021.appspot.com",messagingSenderId:"631177761094",appId:"1:631177761094:web:5847786233ad049f389547",measurementId:"G-EMG7PN1G6X",databaseURL:""}),Object(g.jsx)(v.Provider,{value:m.a,children:t})};n(93),n(83);function I(e){var t=e.isLoginOrSignup,n=e.isLoggedIn,r=e.setIsLoggedIn,a=e.setHide,i=Object(c.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(null),u=Object(s.a)(j,2),h=u[0],x=u[1],m=Object(c.useContext)(v),k=Object(c.createRef)(),I=Object(c.createRef)();function S(e){e.preventDefault(),e.stopPropagation(),x(null),e.currentTarget.checkValidity()&&function(){var e=k.current.value,n=I.current.value;t?m.auth().signInWithEmailAndPassword(e,n).then((function(e){r(!0),a()})).catch((function(e){console.error(e.code,"|",e.message),x(e.message)})):m.auth().createUserWithEmailAndPassword(e,n).then((function(e){r(!0),a()})).catch((function(e){console.error(e.code,"|",e.message),x(e.message)}))}(),d(!0)}return Object(c.useEffect)((function(){return function(){n||(d(!1),x(null))}}),[t,n]),Object(g.jsxs)(f.a,{noValidate:!0,validated:l,onSubmit:function(e){return S(e)},className:"c-loginForm",children:[h?Object(g.jsx)(p.a,{variant:"danger",children:Object(g.jsx)("p",{className:"mb-0",children:h})}):null,t?null:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a.Row,{children:Object(g.jsxs)(f.a.Group,{as:O.a,md:"8",controlId:"validationCustom01",children:[Object(g.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"First Name",maxLength:25}),Object(g.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Required Field"})]})}),Object(g.jsx)(f.a.Row,{children:Object(g.jsxs)(f.a.Group,{as:O.a,md:"8",controlId:"validationCustom02",children:[Object(g.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"Last Name",maxLength:25}),Object(g.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Required Field"})]})})]}),Object(g.jsx)(f.a.Row,{children:Object(g.jsxs)(f.a.Group,{as:O.a,md:"8",controlId:"validationCustom03",children:[Object(g.jsx)(f.a.Control,{required:!0,type:"email",placeholder:"Email",maxLength:25,ref:k,autoComplete:"username"}),Object(g.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Invalid email format"})]})}),Object(g.jsxs)(f.a.Row,{className:"submitForm",children:[Object(g.jsxs)(f.a.Group,{as:O.a,md:"8",controlId:"validationCustom04",children:[Object(g.jsx)(f.a.Control,{required:!0,type:"password",placeholder:"Password",ref:I,autoComplete:"current-password"}),Object(g.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Required Field"})]}),Object(g.jsx)(b.a,{type:"submit",variant:"outline-success",children:t?"Sign In":"Sing Up"})]})]})}function S(e){var t=e.show,n=e.setHide,r=e.isLoggedIn,a=e.setIsLoggedIn,o=Object(c.useState)(!0),l=Object(s.a)(o,2),d=l[0],j=l[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(x.a,{show:t,onHide:n,backdrop:"static",keyboard:!1,className:"c-authModal",children:[Object(g.jsx)(x.a.Header,{closeButton:!0,children:Object(g.jsxs)(x.a.Title,{children:[d?"Log In or ":"Sign Up or ",Object(g.jsx)(i.b,{to:"#",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),j(!d)}(e)},children:d?"Sign Up":"Log In"})]})}),Object(g.jsx)(x.a.Body,{children:Object(g.jsx)(I,{isLoginOrSignup:d,isLoggedIn:r,setIsLoggedIn:a,setHide:n})}),Object(g.jsxs)(x.a.Footer,{children:[Object(g.jsx)(i.b,{to:"#",onClick:function(){return alert("Feature under construction")},children:"Sign in with Google"}),Object(g.jsx)(b.a,{variant:"secondary",onClick:n,children:"Close"})]})]})})}function w(e){var t=e.isLoggedIn,n=e.setIsLoggedIn,r=Object(c.useState)(!0),a=Object(s.a)(r,2),l=a[0],d=a[1],j=Object(c.useState)({text:"Touch Typing",word:" Practice.",index:0}),x=Object(s.a)(j,2),f=x[0],p=x[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),k=v[0],I=v[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){d(!l)}),500);return function(){clearTimeout(e)}}),[l]),Object(c.useEffect)((function(){var e=null;return f.index<f.word.length&&(e=setTimeout((function(){var e={text:f.text.concat(f.word[f.index]),word:f.word,index:f.index+1};p(e)}),Math.floor(400*Math.random())+100)),function(){null!==e&&clearTimeout(e)}}),[f]),t&&k?Object(g.jsx)(o.a,{push:!0,to:"/portal/plans"}):Object(g.jsxs)("div",{className:"p-landWrap",children:[Object(g.jsxs)(u.a,{fluid:!0,children:[Object(g.jsxs)("div",{className:"p-landing",children:[Object(g.jsx)("h1",{children:"TypeMe"}),Object(g.jsx)(b.a,{variant:"outline-success",onClick:function(){return I(!0)},children:"Login"})]}),Object(g.jsx)(h.a,{className:"justify-content-md-center",children:Object(g.jsx)(O.a,{md:"auto",children:Object(g.jsxs)("div",{className:"p-landGetStarted",children:[Object(g.jsxs)("h1",{children:[f.text,Object(g.jsx)("span",{className:l?"strong":"weak",children:"_"})]}),Object(g.jsx)(i.b,{to:"/portal/plans",className:"btn btn-outline-success",children:"Get Started"})]})})})]}),Object(g.jsx)(S,{show:k,setHide:function(){return I(!1)},isLoggedIn:t,setIsLoggedIn:n})]})}var N=n(166);n(127);function C(e){var t=e.imgPath,n=e.errCode,r=e.errText,a=Object(o.g)(),i=Object(c.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1];if(null!==d)return Object(g.jsx)(o.a,{to:d});var b="/react-typing-app".concat(t);return Object(g.jsx)("div",{className:"pagenotfound-img",style:{backgroundImage:"url(".concat(b,")")},children:Object(g.jsxs)(u.a,{children:[Object(g.jsx)("h1",{children:n}),Object(g.jsxs)("div",{className:"notfound",children:[Object(g.jsx)("p",{className:"text-uppercase",children:r}),Object(g.jsx)(N.a.Link,{eventKey:"/",onSelect:function(e){return j(e)},children:"Home"}),Object(g.jsx)(N.a.Link,{eventKey:"back",onSelect:function(){return a.goBack()},children:"Back"})]})]})})}n(128),n(129);var y=n(165),L=n(164);function F(e){var t=e.isLoggedIn,n=e.setIsSignOut,c=e.setShowAuth;return Object(g.jsx)("div",{className:"c-portalNavBarWrapper",children:Object(g.jsx)(y.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"lg",className:"c-portalNavBar",children:Object(g.jsxs)(u.a,{fluid:"lg",children:[Object(g.jsx)(y.a.Brand,{href:"#/",children:"TypeMe"}),Object(g.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsxs)(y.a.Collapse,{id:"basic-navbar-nav",children:[Object(g.jsxs)(N.a,{className:"mr-auto",children:[Object(g.jsx)(N.a.Link,{href:"#/portal/plans",active:!1,children:"Home"}),Object(g.jsx)(N.a.Link,{href:"#construction",children:"Stats"})]}),Object(g.jsx)(N.a,{className:"mr-left",children:t?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(L.a,{title:"User",id:"basic-nav-dropdown",drop:"left",children:[Object(g.jsx)(L.a.Item,{href:"#construction/3.1",children:"Profile"}),Object(g.jsx)(L.a.Item,{href:"#construction/3.2",children:"Change Password"}),Object(g.jsx)(L.a.Item,{href:"#construction/3.3",children:"Something"}),Object(g.jsx)(L.a.Divider,{}),Object(g.jsx)(L.a.Item,{href:"#",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),n(!0)}(e)},active:!1,children:"Logout"})]})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N.a.Link,{href:"#construction",children:"Save Progress"}),Object(g.jsx)(N.a.Link,{href:"#",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),c(!0)}(e)},children:"Login"})]})})]})]})})})}n(130);var E=n(167);function P(e){var t=e.jsonPlans,n=Object(o.i)().url;return Object(g.jsx)(h.a,{className:"c-planCard",children:t.map((function(e){return function(e){var t=e.filename,c=e.img,r=e.title,a=e.link,s="/react-typing-app".concat("/imgs/plans/");return Object(g.jsx)(O.a,{xs:12,md:6,lg:4,children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)(E.a.Img,{variant:"top",src:s.concat(c)}),Object(g.jsxs)(E.a.Body,{children:[Object(g.jsx)(E.a.Title,{children:r}),Object(g.jsx)(E.a.Text,{children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(g.jsx)(i.b,{to:"".concat(n,"/").concat(a),className:"btn btn-outline-primary",children:"Start"})]})]})},"plan-".concat(t))}(e)}))})}n(131);var M=n(35);function T(e){var t=e.planName,n=e.lessons,r=Object(o.i)().url,a=Object(c.useState)(""),i=Object(s.a)(a,2),l=i[0],d=i[1];function j(e){var n=e.id,c=e.name;return Object(g.jsx)(O.a,{id:n,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(g.jsxs)(E.a,{className:"text-center c-lessonCard",onClick:function(e){d(u(e.target.parentNode))},children:[Object(g.jsx)(E.a.Header,{children:n+1}),Object(g.jsx)(E.a.Body,{children:Object(g.jsxs)(E.a.Title,{children:[Object(g.jsx)("div",{className:"lessonTitle",children:c}),Object(g.jsx)(M.a,{icon:["fas","keyboard"],size:"4x"})]})}),Object(g.jsxs)(E.a.Footer,{children:[Object(g.jsx)("span",{children:Object(g.jsx)(M.a,{icon:["fas","star"]})}),Object(g.jsx)("span",{children:Object(g.jsx)(M.a,{icon:["fas","star-half-alt"],size:"2x"})}),Object(g.jsx)("span",{children:Object(g.jsx)(M.a,{icon:["far","star"]})})]})]})},"".concat(t,"-les-").concat(n))}function u(e){return e&&e.id?e.id:u(e.parentNode)}return l?Object(g.jsx)(o.a,{push:!0,to:"".concat(r,"/").concat(l)}):Object(g.jsx)(h.a,{className:"c-lessonCardRow",children:n?n.map((function(e){return j(e)})):Object(g.jsx)("div",{className:"loader",children:"LOADING..."})})}var A=n(43),B=n(98),R=n.n(B),D=n(99),H=n(76),K=n(13),U=(n(149),n(168)),G=n(161);n(150);function W(e){var t=e.hideMe,n=e.resetHideMe,r=e.settings,a=e.setSettings,i=e.errorCounter,l=e.setErrorCounter,d=e.header,j=Object(o.g)(),u=["error-1","error-2","error-3"],b=["word-1","word-3","word-5"],h=Object(c.useState)(null),O=Object(s.a)(h,2),x=O[0],f=O[1],p=Object(c.useState)(null),m=Object(s.a)(p,2),v=m[0],k=m[1],I=function(e,c){if("click"===c.type&&!S()){if(!x||e!==x||t||u.includes(e)||b.includes(e)?f(u.includes(e)?"settings":b.includes(e)?"sound":e):f(null),"restart"===e&&j.go(0),u.includes(e)&&r.error!==e){a(Object(K.a)(Object(K.a)({},r),{},{error:e}));var s=parseInt(r.error.split("-")[1]),o=parseInt(e.split("-")[1]);o<s&&i>o&&l(o)}b.includes(e)&&r.word!==e&&a(Object(K.a)(Object(K.a)({},r),{},{word:e})),n()}k(null)};function S(){return null!==v&&13===v.keyCode}return Object(g.jsxs)("div",{className:"c-typemeNavBarWrap",children:[Object(g.jsxs)(y.a,{bg:"dark",variant:"dark",className:"fixedMenu",children:[Object(g.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(y.a.Collapse,{id:"responsive-navbar-nav",onClick:function(e){return function(e){"click"===e.type&&(f(null),n())}(e)},children:Object(g.jsxs)(N.a,{onKeyDown:function(e){return k(e)},children:[Object(g.jsx)(N.a.Link,{href:"#",onClick:function(e){return function(e){"click"!==e.type||S()||j.goBack(),k(null)}(e)},tabIndex:"-1",children:Object(g.jsx)(M.a,{icon:["fa","arrow-alt-circle-left"]})}),Object(g.jsxs)(y.a.Brand,{children:["Lesson ",d.num,": ",d.title]})]})}),Object(g.jsxs)(N.a,{variant:"tabs",onSelect:function(e,t){return I(e,t)},onKeyDown:function(e){return k(e)},children:[Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{href:"#",eventKey:"restart",active:!1,tabIndex:"-1",children:Object(g.jsx)(M.a,{icon:["fas","undo"]})})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{href:"#",eventKey:"sound",active:"sound"===x&&!t,tabIndex:"-1",children:Object(g.jsx)(M.a,{icon:["fas","volume-up"]})})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{href:"#",eventKey:"settings",active:"settings"===x&&!t,tabIndex:"-1",children:Object(g.jsx)(M.a,{icon:["fa","cog"]})})})]})]}),Object(g.jsx)(y.a,{expand:!0,bg:"dark",variant:"dark",className:"settings"!==x||t?"floatMenu":"floatMenu ".concat(x),children:Object(g.jsxs)(N.a,{className:"flex-column",children:[Object(g.jsxs)("div",{className:"form-check form-switch",children:[Object(g.jsx)("label",{className:"form-check-label",htmlFor:"stats",children:"Show WPM and Accuracy"}),Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"stats",tabIndex:"-1",onChange:function(e){return a(Object(K.a)(Object(K.a)({},r),{},{stats:e.target.checked}))},checked:r.stats})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{className:"form-check form-switch",children:[Object(g.jsx)("label",{className:"form-check-label",htmlFor:"errors",children:"Block on Error(s)"}),Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"errors",tabIndex:"-1",onChange:function(e){return a(Object(K.a)(Object(K.a)({},r),{},{blockOnError:e.target.checked}))},checked:r.blockOnError})]}),Object(g.jsxs)(N.a,{fill:!0,variant:"tabs",className:"numSelectMenu ".concat(r.blockOnError?"":"hide"),onSelect:function(e,t){return I(e,t)},tabIndex:"-1",children:[Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"error-1",tabIndex:"-1",active:"error-1"===r.error,children:"1st"})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"error-2",tabIndex:"-1",active:"error-2"===r.error,children:"2nd"})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"error-3",tabIndex:"-1",active:"error-3"===r.error,children:"3rd"})})]})]})}),Object(g.jsx)(y.a,{expand:!0,bg:"dark",variant:"dark",className:"sound"!==x||t?"floatMenu":"floatMenu ".concat(x),children:Object(g.jsxs)(N.a,{className:"flex-column",children:[Object(g.jsxs)("div",{className:"form-check form-switch",children:[Object(g.jsx)("label",{className:"form-check-label",htmlFor:"keyboard",children:"Keyboard Sound"}),Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"keyboard",tabIndex:"-1",onChange:function(e){return a(Object(K.a)(Object(K.a)({},r),{},{sound:e.target.checked}))},checked:r.sound})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{className:"form-check form-switch",children:[Object(g.jsx)("label",{className:"form-check-label",htmlFor:"voice",children:"Voice Over"}),Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"voice",tabIndex:"-1",onChange:function(e){return a(Object(K.a)(Object(K.a)({},r),{},{voice:e.target.checked}))},checked:r.voice})]}),Object(g.jsxs)(N.a,{fill:!0,variant:"tabs",className:"numSelectMenu ".concat(r.voice?"":"hide"),onSelect:function(e,t){return I(e,t)},tabIndex:"-1",children:[Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"word-1",tabIndex:"-1",active:"word-1"===r.word,children:"One"})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"word-3",tabIndex:"-1",active:"word-3"===r.word,children:"Three"})}),Object(g.jsx)(N.a.Item,{children:Object(g.jsx)(N.a.Link,{eventKey:"word-5",tabIndex:"-1",active:"word-5"===r.word,children:"Five"})})]})]})})]})}n(151);function q(e){for(var t=e.word,n=e.wordNum,c=e.letterMarks,r=new Array(t.length),a=0;a<t.length;++a)r[a]=Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{className:c?"letterSpan ".concat(c[a].isClean?"_clean ":"").concat(c[a].isCorrect?"_correct ":"").concat(c[a].isError&&!c[a].isBlocked?"_error ":"_blocked ").concat(c[a].isFixed?"_fixed ":""):"letterSpan ",children:t[a]}),Object(g.jsx)("span",{className:c&&c.length>0&&c[a].errorChar?"errorChar ".concat(c[a].class):"errorChar",children:c&&c.length>0&&c[a].errorChar?c[a].errorChar:" "})]},"w-".concat(n,"-letter-").concat(a));return Object(g.jsx)("span",{className:"wordsSpan",children:r})}var _=n(100),J=n(75),z=n.p+"static/media/rightPress.357b75a2.mp3",V=n.p+"static/media/wrongPress.607ca9a0.mp3",Y=n.p+"static/media/endLesson.66b57238.mp3";function X(e){var t=e.typeMe,n=Object(J.a)(z),r=Object(s.a)(n,1)[0],a=Object(J.a)(V),i=Object(s.a)(a,1)[0],o=Object(J.a)(Y),l=Object(s.a)(o,1)[0],d=["path","A","svg","INPUT","LABEL","HR"],j=Object(c.useState)(!1),b=Object(s.a)(j,2),h=b[0],O=b[1],x=Object(c.useState)(0),f=Object(s.a)(x,2),p=f[0],m=f[1],v=Object(c.useState)(0),k=Object(s.a)(v,2),I=k[0],S=k[1],w=Object(c.createRef)(),N=Object(c.useState)([]),C=Object(s.a)(N,2),y=C[0],L=C[1],F=Object(c.useState)({sound:!0,voice:!1,stats:!0,blockOnError:!0,error:"error-3",word:"word-3"}),E=Object(s.a)(F,2),P=E[0],M=E[1],T=Object(c.useState)(0),A=Object(s.a)(T,2),B=A[0],R=A[1],X=Object(c.useState)(null),Q=Object(s.a)(X,2),Z=Q[0],$=Q[1],ee=Object(c.useState)({lineNum:3,from:0,to:0,step:56,animName:"lineUp1",isUp:!1,last:null}),te=Object(s.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)({isStarted:!1,isPaused:!1,isFinished:!1}),ae=Object(s.a)(re,2),se=ae[0],ie=ae[1],oe=Object(c.useState)({charCount:0,correct:0,fixed:0,wrong:0,timeSpent:0,timeSpentTyping:0,pauseAfter:10}),le=Object(s.a)(oe,2),de=le[0],je=le[1],ue=Object(c.useCallback)((function(){y&&y.length&&ve(!0)})),be=Object(_.a)({onResize:ue}),he=be.width,Oe=be.height,xe=be.ref,fe=Object(c.useCallback)((function(){var e=t?t.text.split(/\s+/g).map((function(e){return e.concat(" ")})):null;return e&&(e[e.length-1]=e[e.length-1].trim()),e}),[t]);function pe(e){"correct"===e?(de.correct+=1,de.charCount+=1):"fixed"===e?(de.fixed+=1,de.charCount+=1):"wrong"===e?(de.wrong+=1,de.charCount+=1):"d-correct"===e?(de.charCount-=1,de.correct-=1):"d-fixed"===e?(de.charCount-=1,de.fixed-=1):"d-wrong"===e&&(de.charCount-=1,de.wrong-=1),de.timeSpentTyping=de.timeSpent,se.isPaused&&ie(Object(K.a)(Object(K.a)({},se),{},{isPaused:!1})),je(Object(K.a)({},de))}function me(e){if(!se.isFinished){se.isStarted||ie(Object(K.a)(Object(K.a)({},se),{},{isStarted:!0,isPaused:!1}));var t,n=B;(function(e){return e>=48&&e<=57})(t=e.keyCode)||function(e){return e>=65&&e<=90||32===e}(t)||function(e){return e>=186&&e<=191||e>=219&&e<=222}(t)?(!function(){var e=Number(P.word.split("-")[1]);if(P.voice){var t=fe(),n=ke();if(n&&" "===t[n.wordIdx][n.letterIdx]&&(I+1)%e===0){for(var c="",r=n.wordIdx+1+e<t.length?n.wordIdx+1+e:t.length,a=n.wordIdx+1;a<r;++a)c+=t[a];var s=new SpeechSynthesisUtterance;s.text=c,window.speechSynthesis.cancel(),window.speechSynthesis.speak(s)}}}(),ve(!1),fe()[I][p]===e.key?(Se(r),P.blockOnError&&R(n=0),ge(!0,n,e.key)):(Se(i),P.blockOnError&&n<parseInt(P.error.split("-")[1])&&R(n+=1),ge(!1,n,e.key))):function(e){return 8===e}(e.keyCode)&&(Se(r),function(){var e=Ie();if(null===e)return;var t=y[e.wordIdx][e.letterIdx];t.isCorrect?pe("d-correct"):t.isFixed?pe("d-fixed"):t.isError&&pe("d-wrong");var n=[!0,!1,null,!1,""];t.isClean=n[0],t.isCorrect=n[1],t.errorChar=n[2],t.isBlocked=n[3],t.class=n[4],y[e.wordIdx][e.letterIdx]=t,L(Object(H.a)(y)),S(e.wordIdx),m(e.letterIdx)}(),P.blockOnError&&n>0&&(n-=we(n)&&parseInt(P.error.split("-")[1])>1?2:1,R(n)))}}function ge(e,t,n){if(!e&&we(t)){var c=y[I][p];return y[I][p]={isClean:!1,isCorrect:!1,isFixed:!1,isError:!0,errorChar:n,isBlocked:!0,class:""===c.class||"show2"===c.class?"show1":"show2"},void L(Object(H.a)(y))}if(e){var r=y[I][p];r.isCorrect||r.isFixed||r.isError?(r.isError||r.isFixed)&&(pe("fixed"),y[I][p]={isClean:!1,isCorrect:!1,isFixed:!0,isError:!1,errorChar:null,isBlocked:!1,class:""}):(pe("correct"),y[I][p]={isClean:!1,isCorrect:!0,isFixed:!1,isError:!1,errorChar:null,isBlocked:!1,class:""})}else pe("wrong"),y[I][p]={isClean:!1,isCorrect:!1,isFixed:!1,isError:!0,errorChar:n,isBlocked:!1,class:"show1"};L(Object(H.a)(y)),function(){var e=ke();if(null===e)return ie(Object(K.a)(Object(K.a)({},se),{},{isFinished:!0})),Se(l),void m(p+1);S(e.wordIdx),m(e.letterIdx)}()}function ve(e){e&&y[I][p]&&(y[I][p].errorChar=null);var t=Ie();t&&(y[t.wordIdx][t.letterIdx].errorChar=null)}function ke(){var e,t;if(p===fe()[I].length-1){if(I===fe().length-1)return null;t=I+1,e=0}else t=I,e=p+1;return{wordIdx:t,letterIdx:e}}function Ie(){var e,t;if(0===p){if(0===I)return null;t=I-1,e=fe()[t].length-1}else e=p-1,t=I;return{wordIdx:t,letterIdx:e}}function Se(e){P.sound&&e()}function we(e){return!!P.blockOnError&&e===parseInt(P.error.split("-")[1])}Object(c.useEffect)((function(){L(fe()?fe().map((function(e){return new Array(e.length).fill({isClean:!0,isCorrect:!1,isFixed:!1,isError:!1,errorChar:null,isBlocked:!1,class:""})})):[])}),[fe]),Object(c.useEffect)((function(){w.current.focus()}),[w]),Object(c.useEffect)((function(){var e=localStorage.getItem("settings");e&&M(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem("settings",JSON.stringify(P)),P.blockOnError||R(0)}),[P]),Object(c.useEffect)((function(){var e=null;return!se.isFinished&&se.isStarted&&(e=setInterval((function(){se.isPaused||je((function(e){return Object(K.a)(Object(K.a)({},e),{},{timeSpent:e.timeSpent+1})}))}),1e3)),function(){null!==e&&clearInterval(e)}}),[se]),Object(c.useEffect)((function(){de.timeSpent-de.timeSpentTyping>de.pauseAfter&&ie((function(e){return Object(K.a)(Object(K.a)({},e),{},{isPaused:!0})}))}),[de]);var Ne=Object(c.useCallback)((function(){if(null===fe())return null;var e=document.getElementById("typeMeDiv"),t=document.createRange();t.setStart(e,0),t.setEnd(e,t.commonAncestorContainer.childNodes.length);var n,c=t.getClientRects(),r=[],a=Object(D.a)(c);try{for(a.s();!(n=a.n()).done;){var s=n.value;30===s.width&&r.push(s)}}catch(x){a.e(x)}finally{a.f()}0===r.length&&console.warn("cannot determine span rectangles");for(var i=0,o=[],l=0;l<r.length;l++)i!==r[l].top&&(i=r[l].top,o.push(l));o.push(r.length);var d=fe().map((function(e){return e.length})),j=[0];d.forEach((function(e,t){j.push(j[t]+e)}));for(var u=[],b=1,h=1;h<o.length;++h)for(var O=b;O<j.length;++O)if(o[h]===j[O]){u.push(O-b+1),b=O+1;break}u&&($(u),ce((function(e){return Object(K.a)(Object(K.a)({},e),{},{last:u.length-1})})))}),[he,Oe,fe]);function Ce(e){if(ne.lineNum<4&&e<4)return ne.from=0,void(ne.to=0);if(e!==ne.last&&Math.abs(e-ne.lineNum)>=2){var t=e-ne.lineNum;ne.from=ne.to,ne.to=-(e-ne.lineNum)*ne.step+ne.to,ne.lineNum=e,ne.animName="lineUp1"===ne.animName?"lineUp2":"lineUp1",ne.isUp=!t,ce(Object(K.a)({},ne))}}Object(c.useEffect)((function(){Ne()}),[Ne]),Object(c.useEffect)((function(){var e=document.styleSheets[0],t=ne.from+"px",n=ne.to+"px",c="@keyframes ".concat(ne.animName," {\n      from {\n        margin-top: ").concat(t,";\n      }\n      to {\n        margin-top: ").concat(n,";\n      }\n    }");e.insertRule(c,e.cssRules.length)}),[ne]);var ye=Object(c.useRef)(null);return Object(g.jsxs)("div",{className:"p-typingPageWrap",onClick:function(e){d.includes(e.target.nodeName)||"NAV"===e.target.nodeName&&e.target.classList.contains("floatMenu")||"DIV"===e.target.nodeName&&e.target.classList.contains("navbar-nav")||O(!0)},onKeyDown:function(e){return me(e)},tabIndex:"0",ref:w,children:[Object(g.jsx)(W,{hideMe:h,resetHideMe:function(){return O(!1)},settings:P,setSettings:M,errorCounter:B,setErrorCounter:R,header:t?t.header:{}}),Object(g.jsx)(u.a,{className:"typeMeContainer",fluid:"xl",ref:xe,children:Object(g.jsx)("div",{style:!se.isFinished&&ne.lineNum>=3?{animation:"".concat(ne.animName," 1s"),marginTop:"".concat(ne.to,"px")}:{animation:"top 1s",marginTop:0},className:"typeMeDiv",id:"typeMeDiv",children:function(){var e=fe();if(null===e)return null;var t=[];if(null===Z||0===Z.length)t=e.map((function(e,t){return Object(g.jsx)("span",{className:"lineSpan",children:Object(g.jsx)(q,{word:e,wordNum:t,letterMarks:y[t]})},"wordSpan-".concat(t))}));else{t=[];for(var n=0,c=0;c<Z.length;++c){for(var r=[],a=n;a<Z[c]+n;++a)r.push(Object(g.jsx)(q,{word:e[a],wordNum:a,letterMarks:y[a]},"wordSpan-".concat(a+n)));I>=n&&I<Z[c]+n&&Ce(c),t.push(Object(g.jsx)("span",{className:"lineSpan ".concat(I>=n&&I<Z[c]+n?"_focus":""),children:r},"lineSpan-".concat(c))),n+=Z[c]}}return t}()})}),Object(g.jsxs)(u.a,{className:"statsContainer",fluid:"xl",children:[Object(g.jsx)("div",{className:"progress",children:Object(g.jsx)("div",{style:{width:"".concat(fe()?Math.round(I/(fe().length-1)*100):0,"%")},className:"progress-bar ",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"})}),Object(g.jsxs)("div",{className:P.stats?"stats":"stats hide",children:[Object(g.jsxs)("div",{className:"speed",ref:ye,children:[Object(g.jsx)("h6",{children:"Speed"}),Object(g.jsxs)("h1",{children:[de.timeSpent>0?Math.floor((de.correct+de.fixed)/5/de.timeSpent*60):0," ",Object(g.jsx)("span",{children:"WPM"})]})]}),Object(g.jsx)(U.a,{target:ye.current,show:se.isPaused&&P.stats||!se.isStarted,placement:"top",children:function(e){return Object(g.jsx)(G.a,Object(K.a)(Object(K.a)({id:"pause-overlay"},e),{},{children:se.isPaused&&P.stats?"PAUSED":"START TYPING"}))}}),Object(g.jsxs)("div",{className:"accuracy",children:[Object(g.jsx)("h6",{children:"Accuracy"}),Object(g.jsxs)("h1",{children:[de.charCount>0?Math.floor((de.correct+de.fixed)/de.charCount*100):100," ",Object(g.jsx)("span",{children:"%"})]})]})]})]})]})}function Q(e){var t=e.isLoggedIn,n=e.setIsLoggedIn,r=e.isSignOut,a=e.setIsSignOut,l=Object(o.i)(),d=l.url,j=l.path,b=Object(o.h)(),h=b.planArg,O=b.playArg,x=Object(c.useState)(!1),f=Object(s.a)(x,2),p=f[0],m=f[1],v=Object(c.useState)(null),k=Object(s.a)(v,2),I=k[0],w=k[1],N=Object(c.useState)(h),C=Object(s.a)(N,2),y=C[0],L=C[1],E=Object(c.useCallback)((function(){return h&&A&&A.length>0&&Number(h)<A.length&&A[h]}),[h]);return Object(c.useEffect)((function(){if(E()){var e="/react-typing-app".concat("/data/");L(h),R.a.get(e.concat(A[h].filename)).then((function(e){return w(e.data.lessons)})).catch((function(e){return console.error(e)}))}h!==y&&w(null)}),[h,E,y]),r?Object(g.jsx)(o.a,{push:!0,to:"/"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"".concat(j,"/:planArg/:playArg"),children:Object(g.jsx)(X,{typeMe:O&&I&&I.length>0&&Number(O)<I.length&&I[O]?{text:I[O].text,header:{title:I[O].name,num:I[O].id+1}}:null})}),Object(g.jsxs)(o.b,{exact:!0,path:"".concat(j,"/:planArg"),children:[Object(g.jsx)(F,{isLoggedIn:t,setIsSignOut:a,setShowAuth:m}),Object(g.jsx)("div",{className:"lessonsWrapper",children:Object(g.jsxs)(u.a,{className:"p-portalPage",children:[Object(g.jsx)("h1",{children:t?"Hello logged in user":"Hello anonymous user"}),Object(g.jsx)(T,{planName:E()?A[h].filename:"",lessons:I&&I.length>0?I:null})]})})]}),Object(g.jsxs)(o.b,{exact:!0,path:"".concat(d),children:[Object(g.jsx)(F,{isLoggedIn:t,setIsSignOut:a,setShowAuth:m}),Object(g.jsx)("div",{className:"lessonsWrapper",children:Object(g.jsxs)(u.a,{className:"p-portalPage",children:[Object(g.jsx)("h1",{children:t?"Hello logged in user":"Hello anonymous user"}),Object(g.jsx)(P,{jsonPlans:A})]})})]})]})}),Object(g.jsx)(S,{show:p,setHide:function(){return m(!1)},isLoggedIn:t,setIsLoggedIn:n})]})}function Z(){var e=Object(c.useContext)(v),t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],l=Object(c.useState)(!1),d=Object(s.a)(l,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){e.auth().onAuthStateChanged((function(e){e&&(a(!0),u(!1))}))}),[e]),Object(c.useEffect)((function(){j&&e.auth().signOut().then((function(){a(!1),u(!1)})).catch((function(e){console.error(e.code,"|",e.message)}))}),[e,j]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"/",children:Object(g.jsx)(w,{isLoggedIn:r,setIsLoggedIn:a})}),Object(g.jsx)(o.b,{exact:!0,path:"/portal/plans/:planArg?/:playArg?",children:Object(g.jsx)(Q,{isLoggedIn:r,setIsLoggedIn:a,isSignOut:j,setIsSignOut:u})}),Object(g.jsx)(o.b,{path:"/construction",children:Object(g.jsx)(C,{imgPath:"/imgs/background/pexels-sebastiaan-stam-construction.jpg",errCode:"404",errText:"under construction"})}),Object(g.jsx)(o.b,{path:"/",children:Object(g.jsx)(C,{imgPath:"/imgs/background/pexels-toni-cuenca.jpg",errCode:"404",errText:"page not found"})})]})})})}l.b.add(d.a,j.a);var $=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,169)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};a.a.render(Object(g.jsx)(k,{children:Object(g.jsx)(Z,{})}),document.getElementById("root")),$()},43:function(e){e.exports=JSON.parse('[{"filename":"01-plan.json","title":"Interesting Facts","img":"01-plan.jpg","link":"0"},{"filename":"02-plan.json","title":"Random Fun Facts","img":"02-plan.jpg","link":"1"},{"filename":"03-plan.json","title":"Other Facts","img":"03-plan.jpg","link":"2"}]')}},[[152,1,2]]]);
//# sourceMappingURL=main.1e65b7af.chunk.js.map